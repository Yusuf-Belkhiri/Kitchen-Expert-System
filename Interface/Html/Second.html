<!DOCTYPE html>
<html>
<head>
  <title>Ingredient Form</title>
  <link rel="stylesheet" type="text/css" href="../Css/Second.css">
</head>
<body>
  <img src="../Images/p1.png" alt="Ingredient Image">
  <h1 id="sentence">Let us help you decide what delicious dish to prepare today</h1>
  <form id="ingredientForm">
    <h1 class="title">Ingredients</h1>
    <div class="container">
      <div>
        <div class="column">
          <label>
            <input type="checkbox" name="ingredient" value="Chicken">
            Chicken
            <input class="quantity" type="number" name="ChickenQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Rice">
            Rice
            <input class="quantity" type="number" name="RiceQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Broccoli">
            Broccoli
            <input class="quantity" type="number" name="BroccoliQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Pepper">
            Pepper
            <input class="quantity" type="number" name="PepperQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Onion">
            Onion
            <input class="quantity" type="number" name="OnionQuantity" placeholder="(grams)" min="0">
          </label>
        </div>
      </div>
      <div>
        <div class="column">
          <label>
            <input type="checkbox" name="ingredient" value="Garlic">
            Garlic
            <input class="quantity" type="number" name="GarlicQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Tomato">
            Tomato
            <input class="quantity" type="number" name="TomatoQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Beef">
            Beef
            <input class="quantity" type="number" name="BeefQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Pasta">
            Pasta
            <input class="quantity" type="number" name="PastaQuantity" placeholder="(grams)" min="0">
          </label>
          <br>
          <label>
            <input type="checkbox" name="ingredient" value="Cheese">
            Cheese
            <input class="quantity" type="number" name="CheeseQuantity" placeholder="(grams)" min="0">
          </label>
        </div>
      </div>
    </div>
    <h1 class="title">Available Tools</h1>
    <div class="container container1">
      <div>
        <label>
          <input type="checkbox" name="tools[]" value="Pan" class="box">
          Pan
        </label>
        <br>
        <label>
          <input type="checkbox" name="tools[]" value="Pot" class="box">
          Pot
        </label>
        <br>
        <label>
          <input type="checkbox" name="tools[]" value="Grater" class="box">
          Grater
        </label>
        <br>
      </div>
      <div>
        <label>
          <input type="checkbox" name="tools[]" value="CuttingBoard" class="box">
          Cutting Board
        </label>
        <br>
        <label>
          <input type="checkbox" name="tools[]" value="Mixer">
          Mixer
        </label>
        <br>
      </div>
    </div>
    <div id="result">
      <input type="submit" value="Result" id="submit">
    </div>
  </form>
  <script>
    // Get form element
    const form = document.getElementById('ingredientForm');

    // Add event listener for form submission
    form.addEventListener('submit', handleSubmit);

    // Handle form submission
    function handleSubmit(e) {
      e.preventDefault();

      // Get selected ingredients
      const selectedIngredients = Array.from(document.querySelectorAll('input[name="ingredient"]:checked'))
        .map(checkbox => checkbox.value);

      // Get ingredient quantities
      const quantities = Array.from(document.querySelectorAll('.quantity'))
        .map(input => input.value.trim());

      // Get selected tools
      const selectedTools = Array.from(document.querySelectorAll('input[name="tools[]"]:checked'))
        .map(checkbox => checkbox.value);

      // Perform validation
      let isValid = true;

      if (selectedIngredients.length === 0) {
        isValid = false;
        alert('Please choose at least one ingredient.');
      }

      if (selectedTools.length === 0) {
        isValid = false;
        alert('Please choose at least one tool.');
      }

      if (isValid) {
        // Output the selected ingredients, quantities, and tools
        console.log('Selected Ingredients:', selectedIngredients);
        console.log('Quantities:', quantities);
        console.log('Selected Tools:', selectedTools);
      }
    }
     // Get the referring page URL
  var referringPage = document.referrer;

// Get the "Result" button element
var resultButton = document.getElementById('submit');

// Check the referring page and set the appropriate destination for the button
if (referringPage.includes('MainPage.html')) {
  resultButton.addEventListener('click', function() {
    // Redirect to Result1 page
    window.location.href = 'Result1.html';
  });
} else if (referringPage.includes('Third.html')) {
  resultButton.addEventListener('click', function() {
    // Redirect to Result2 page
    window.location.href = 'result2.html';
  });
} else {
  // Handle the case when the referring page is unknown or not one of the specified pages
  console.log('Unknown referring page');
}
  </script>
</body>
</html>
